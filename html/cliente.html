<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Tienda de productos</title>
    <link rel="stylesheet" type="text/css" href="cliente.css">
</head>

<body>
    <!-- Header -->
    <header>
        <h1>Tienda de Productos</h1>
    </header>

    <!-- Barra de busqueda -->
    <input id="productoInput" type="text" placeholder="¿Qué quieres comprar?" oninput="filtrarProductos()">
    <button id="agregarBtn" onclick="agregarAlCarrito()">+</button>

    <!-- Barra de categorías -->
    <div class="categorias">
        <div class="categoria">Todo</div>
        <div class="categoria">Hogar</div>
        <div class="categoria">Moda</div>
        <div class="categoria">Deporte</div>
        <div class="categoria">Electrónica</div>
        <div class="categoria">Ocio</div>                
    </div>

    <!-- Lista de productos -->
    <ul id="listaProductos"></ul>

    <!-- Mostar carrito -->
    <button id="mostrarCarritoBtn">
        <img src="img/carrito.png" alt="Carrito">
    <span id="numeroItemsCarrito">0</span>
    </button>

    <!-- Carrito -->
    <div id="popupCarrito">    
        <button id="cerrarCarritoBtn">x</button>
        <h2>Carrito de compras</h2>
        <div id="costeTotal">Coste total: 0€</div>
        <ul id="carrito"></ul> 
        <input id="codigoDescuentoInput" type="text" placeholder="Ingresa tu código de descuento aquí">
        <button id="aplicarCodigoBtn">Aplicar Código</button>
        <button id="pagarBtn">Pagar</button>
        <div id="videoContainer" style="display: none;">
            <video id="video" width="800" height="700"></video>
            <button id="closeVideoBtn">X</button>
        </div>
    </div>

    <!-- Modo por voz -->
    <div id="microfonoBtn">
        <img src="/img/microphone-slash.png" alt="Botón micrófono">
    </div>

     <!-- Chatbot -->
    <div id="chatbot-circle" onclick="toggleChatbot()">
        <img src="https://static.vecteezy.com/system/resources/previews/004/996/790/original/robot-chatbot-icon-sign-free-vector.jpg" alt="Robot Chatbot">
    </div>
    
    <div id="chatbot-popup" style="display: none;">
        <div class="chatbot-header">Chatbot</div>
            <div id="chat-messages">
                <p id="welcome-message">¡Hola! Bienvenido a nuestra aplicación. Aquí puedes buscar información sobre el funcionamiento de el uso del microfóno y el modo de una mano. Además en este chat podrás obtener un cupón de descuento asociado a la sesión ¿En qué puedo ayudarte hoy?</p>
            </div>

            <button id="clear-chat-btn" class="clear-chat-btn">Borrar Chat</button>
            <form id="chat-form">
                <select id="user-selection">
                    <option value="">Selecciona una opción</option>
        
                    <option value="modo de micro">Modo Micrófono</option>
                    <option value="modo de una mano">Modo de Una Mano</option>
                    <option value="Cupón de descuento">generarCodigoDescuento</option>
                    
                </select>
                
            </form>
    </div>


    <!-- Modo de una mano -->
    <button id="modoUnaManoBtn"></button>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
    <script src="cliente.js"></script>
</body>
</html>
